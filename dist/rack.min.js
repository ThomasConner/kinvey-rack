!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,n.Rack=e()}}(function(){return function e(n,r,t){function i(u,f){if(!r[u]){if(!n[u]){var a="function"==typeof require&&require;if(!f&&a)return a(u,!0);if(o)return o(u,!0);var l=new Error("Cannot find module '"+u+"'");throw l.code="MODULE_NOT_FOUND",l}var s=r[u]={exports:{}};n[u][0].call(s.exports,function(e){var r=n[u][1][e];return i(r?r:e)},s,s.exports,e,n,r,t)}return r[u].exports}for(var o="function"==typeof require&&require,u=0;u<t.length;u++)i(t[u]);return i}({1:[function(e,n,r){(function(r){"use strict";var t=function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e)){var r=[],t=!0,i=!1,o=void 0;try{for(var u,f=e[Symbol.iterator]();!(t=(u=f.next()).done)&&(r.push(u.value),!n||r.length!==n);t=!0);}catch(a){i=!0,o=a}finally{try{!t&&f["return"]&&f["return"]()}finally{if(i)throw o}}return r}throw new TypeError("Invalid attempt to destructure non-iterable instance")},i=function(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")},o=function(){function e(e,n){for(var r=0;r<n.length;r++){var t=n[r];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(n,r,t){return r&&e(n.prototype,r),t&&e(n,t),n}}(),u="undefined"!=typeof window?window._:"undefined"!=typeof r?r._:null,f=e("ascii-tree"),a=function(e){function n(n,r,t,i){return e.apply(this,arguments)}return n.toString=function(){return e.toString()},n}(function(e,n,r,i){var o=this;if(-1>e||e>=n.length)throw new Error("Index "+e+" is out of bounds.");var u=n[e];return u.handle(r,i).then(function(r){var i=t(r,2),u=i[0],f=i[1];return e+=1,e<n.length?a.call(o,e,n,u,f):[u,f]})}),l=function(){function e(){var n=void 0===arguments[0]?"Rack":arguments[0],r=void 0===arguments[1]?[]:arguments[1];i(this,e),u.isArray(n)&&(r=n,n="Rack"),(u.isUndefined(r)||u.isNull(r))&&(r=[]),this.name=n,this._middlewares=r}return o(e,[{key:"middlewares",get:function(){return this._middlewares.slice()}},{key:"getMiddleware",value:function(){var e=void 0===arguments[0]?-1:arguments[0],n=this.middlewares;if(!u.isNumber(e)){var r=e;e=u.findIndex(n,function(e){return e instanceof r})}if(-1>e||e>=n.length)throw new Error("Index "+e+" is out of bounds.");return n[e]}},{key:"use",value:function(e){u.isNull(e)||u.isUndefined(e)||this._middlewares.push(e)}},{key:"useBefore",value:function(e,n){var r=this.middlewares,t=u.findIndex(r,function(n){return n instanceof e});t>-1&&(r.splice(t,0,n),this._middlewares=r)}},{key:"useAfter",value:function(e,n){var r=this.middlewares,t=u.findIndex(r,function(n){return n instanceof e});t>-1&&(r.splice(t+1,0,n),this._middlewares=r)}},{key:"swap",value:function(e,n){var r=this.middlewares,t=u.findIndex(r,function(n){return n instanceof e});t>-1&&(r.splice(t,1,n),this._middlewares=r)}},{key:"remove",value:function(e){var n=this.middlewares,r=u.findIndex(n,function(n){return n instanceof e});r>-1&&(n.splice(r,1),this._middlewares=n)}},{key:"execute",value:function(e){var n=this.middlewares;return n.length>0?a.call(this,0,n,e):void 0}},{key:"handle",value:function(e){return this.execute(e)}},{key:"toString",value:function(){var e,n,r,t=void 0===arguments[0]?0:arguments[0],i=this.middlewares,o="";for(e=0;t>=e;e++)o+="#";for(o+=this.name,e=0,n=i.length;n>e;e++)r=i[e],o+="\n"+r.toString(t+1);if(t>0)return o;try{return f.generate(o)}catch(u){return o}}}]),e}();n.exports=l}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"ascii-tree":2}],2:[function(e,n,r){function t(e){var n=f.parse(e);return o(n,!0)}function i(e,n){var r,t="\r\n",i=n?s:a;if(0==e.level)return e.value;for(r=1;r<e.level;++r)t+=u[r]?" ":d,t+="  ";return t+i+l+" "+e.value}function o(e,n){var r,t=i(e,n);return e.nodes&&(r=e.nodes.length-1,e.nodes.forEach(function(e,n){u[e.level]=n==r,t+=o(e,n==r)})),t}var u=[],f=e("freetree"),a=String.fromCharCode(9500),l=String.fromCharCode(9472),s=String.fromCharCode(9492),d=String.fromCharCode(9474);r.generate=t},{freetree:3}],3:[function(e,n,r){function t(e,n){i(n);var r=o(e);return u(r),s(r)}function i(e){var n,r;if(e)for(n in d)r=e[n],r&&(d[n]=r)}function o(e){var n=e.split(/[\r\n]+/);return n.filter(function(e){return""!=e.trim()})}function u(e){a(e)}function f(e){return e.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function a(e){var n=f(d.leadingChar),r=new RegExp("^"+n+"[^"+n+"]");if(pattern=new RegExp("^"+n+"[^"+n+"].*$"),roots=e.filter(function(e){return pattern.test(e)}),roots.length>1)throw new Error("Only single root node is allowed!");if(!r.test(e[0]))throw new Error("The root node should be the first node!")}function l(e){var n=f(d.leadingChar),r=new RegExp("^("+n+"+)(.+)$"),t=e.match(r);return{level:t[1].length-1,value:t[2]}}function s(e){var n,r,t={},i=[],o=e.length;for(n=0;o>n;++n)if(r=l(e[n]),0!=i.length){for(;i[0].level>=r.level;)i.shift();i[0].nodes||(i[0].nodes=[]),i[0].nodes.push(r),i.unshift(r)}else t=r,i.unshift(t);return t}var d={leadingChar:"#"};r.parse=t},{}]},{},[1])(1)});